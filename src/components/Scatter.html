<script>
import { scaleCanvas } from 'LayerCake';
export default {
	data () {
		return {
			r: 5
		};
	},

	/* --------------------------------------------
	 * Put our canvas drawing functions inside of onstate
	 * which will change on first load and whenever
	 * the store update fires
	 */
	onstate () {
		const { canvas, ctx, r } = this.get();
		const { width, height, xScale, yScale, x, y, data } = this.store.get();

		scaleCanvas(canvas, ctx, width, height);
		ctx.clearRect(0, 0, width, height);

		data.forEach(d => {
			ctx.beginPath();
			ctx.arc(xScale(x(d)), yScale(y(d)), r, 0, 2 * Math.PI, false);
			ctx.fillStyle = '#000';
			ctx.fill();
		});
	}
};
</script>
