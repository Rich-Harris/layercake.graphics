{#each $data as series, i}
	{#each series as d}
		<rect class='group-rect' data-id="{i}" x="{x(d)[0]}" y="{y(d)}" {height} width="{width(d)}"fill={fill(i)}></rect>
	{/each}
	}
{/each}

<script>
export default {
	namespace: 'svg',
	data () {
		// TODO, make an actual scale
		const colors = ['#0fc', '#f0c', '#0cf', '#c0f'];
		return {
			fill: i => colors[i]
		};
	},
	computed: {
		x: ({ $xGet }) => {
			return (d) => {
				return $xGet(d);
			};
		},
		y: ({ $yGet }) => {
			return (d) => {
				return $yGet(d);
			};
		},
		height: ({ $yScale }) => {
			return $yScale.bandwidth();
		},
		width: ({ x }) => {
			return (d) => {
				const vals = x(d);
				return vals[1] - vals[0];
			};
		}
	}
};
</script>
